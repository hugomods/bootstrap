{{- $id := printf "collapse-%d" now.UnixNano -}}
{{- $heading := "" -}}
{{- $style := "primary" -}}
{{- $expand := false -}}
{{- if .IsNamedParams -}}
  {{- $heading = .Get "heading" -}}
  {{- with .Get "style" }}{{ $style = . }}{{ end -}}
  {{- with .Get "expand" }}{{ $expand = . }}{{ end -}}
{{- else -}}
  {{- $heading = .Get 0 -}}
  {{- with .Get 1 }}{{ $style = . }}{{ end -}}
  {{- with .Get 2 }}{{ $expand = . }}{{ end -}}
{{- end -}}
{{- $heading := printf
  `<a type="button" class="collapse-toggle text-decoration-none text-bg-%s px-2" data-bs-toggle="collapse" href="#%s" aria-expanded="%s" aria-controls="%s">%s</a>`
  $style $id (cond $expand `true` `false`) $id $heading
}}
{{- $inner := printf `<div class="collapse ps-2 pt-2 mb-3 border-top border-start border-%s%s" id="%s">%s</div>` $style (cond $expand ` show` ``) $id .Inner }}
{{- printf `<div class="collapse-wrapper mb-3">%s%s</div>` $heading $inner | safeHTML }}
