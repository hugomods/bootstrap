{{- $key := "" }}
{{- if .IsNamedParams }}
  {{- $key = .Get "data" }}
{{- else }}
  {{- $key = .Get 0 }}
{{- end }}
{{- $data := partialCached "bootstrap/functions/data" $key $key }}
{{- with $data }}
  <div class="row g-4 row-cols-1 row-cols-md-2 row-cols-lg-3 mb-5">
    {{- range sort . "weight" }}
      <div class="col">
        <div class="d-flex flex-column border rounded h-100 w-100 p-4 shadow">
          <div class="fw-bold mb-2 fs-4 d-flex align-items-center">
            {{- with .icon }}
              {{ partial "icons/icon" (merge (dict
                "width" "1.25em"
                "height" "1.25em"
                "vendor" "bootstrap"
                "className" "me-3") .)
              }}
            {{- end }}
            {{- .title -}}
          </div>
          <p class="mb-0 text-body-secondary">
            {{ .description | markdownify }}
          </p>
          {{- if .url }}
            {{- $link := .url }}
            {{- $url := urls.Parse .url }}
            {{- if not $url.Scheme }}
              {{- with site.GetPage .url }}
                {{- $link = .RelPermalink }}
              {{- else }}
                {{- $link = relURL .url }}
              {{- end }}
            {{- end }}
            <p class="mt-auto pt-3 mb-0">
              <a
                class="text-decoration-none"
                href="{{ $link }}"
                {{ if $url.Scheme }}target="_blank" rel="external"{{ end }}>
                {{- i18n "learn_more" -}}
                {{ partial "icons/icon" (dict
                  "vendor" "bootstrap"
                  "name" "arrow-right"
                  "className" "ms-1")
                }}
              </a>
            </p>
          {{- end }}
        </div>
      </div>
    {{- end }}
  </div>
{{- end -}}
